<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn" >
<head>
<title>Cvs - WIKI-HIT IBM CLUB</title>
<meta name="KEYWORDS" content="首页,ALP,Address,Android,Android Newbie Guide,Android Project Development,Android Research Field,Android Third Party Lib And Tool,BoardGame,CSAPP" />
<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel='stylesheet' type='text/css' media='print' href='../../../../skins/common/wikiprintable.css' />
<script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
<style type='text/css'>
/*/*/ /*<![CDATA[*/
@import "../../../../skins/common/wikistandard.css";
@import "../../../s/t/a/MediaWiki%7EStandard.css.html";
a.new, #quickbar a.new { color: #CC2200; }
.editsection { display: none; }
#quickbar { position: absolute; top: 4px; left: 4px; border-right: 1px solid gray; }
#article { margin-left: 152px; margin-right: 4px; }

/*]]>*/ /* */
</style>
</head>

<body bgcolor='#FFFFFF' onload=''>

<div id='content'>
<div id='topbar'>
<table border='0' cellspacing='0' width='98%'>
<tr>
<td width='152' rowspan='1'>&nbsp;</td><td class="top" align='left' valign='top'>
<a href="../../../index.html" title="首页">首页</a> |
<a href="../../../r/e/c/Special%7ERecentchanges.html" title="Special:Recentchanges">最近更改</a> |
<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑本页</a> |
<a href="../../../c/v/s/Cvs.html" title="Cvs">较早版本</a><p class='subtitle'><a href="../../../c/v/s/Cvs.html">可打印版</a> | <a href="../../../g/e/n/WIKI-HIT_IBM_CLUB%7EGeneral_disclaimer.html" title="WIKI-HIT IBM CLUB:General disclaimer">Disclaimers</a></p>
</td>
<td class="top" valign='top' align='right' nowrap='nowrap'>Not logged in
<br /><a href="../../../u/s/e/Special%7EUserlogin.html" title="Special:Userlogin">登录</a> | <a href="../../../w/i/k/Wikipedia%7E%E5%B8%AE%E5%8A%A9.html" title="Wikipedia:帮助">帮助</a>
<br /><form name="search" class="inline" method="post" action="../../../s/e/a/Special%7ESearch.html">
<input type="text" name="search" size="19" value="" />
<input type="submit" name="go" value="进入" />&nbsp;<input type="submit" name="fulltext" value="搜索" />
</form></td></tr>
</table>
</div>

<div id='article'>
<h1 class="pagetitle">Cvs</h1><p class='subtitle'>Wikipedia，自由的百科全书</p>
<p>关于cvs的管理请看<a href="../../../c/v/s/CVS%E7%AE%A1%E7%90%86_a1b0.html" title="CVS管理">CVS管理</a>
</p><p><br />
本文节选和修改自车东的CVS使用手册
</p><p><a href="http://www.chedong.com/tech/cvs_card.html" class='external free' title="http://www.chedong.com/tech/cvs card.html" rel="nofollow">http://www.chedong.com/tech/cvs_card.html</a>
</p>
<pre>  先转过来,有时间再改:)
  如果是使用的话,先看日常使用部分就o k 了
</pre>
<table id='toc' class='toc'><tr><td><div id='toctitle'><h2>目录</h2></div>
<ul>
<li class='toclevel-1'><a href="#CVS.E7.8E.AF.E5.A2.83.E5.88.9D.E5.A7.8B.E5.8C.96"><span class="tocnumber">1</span> <span class="toctext">CVS环境初始化</span></a>
<ul>
<li class='toclevel-2'><a href="#.E7.8E.AF.E5.A2.83.E8.AE.BE.E7.BD.AE"><span class="tocnumber">1.1</span> <span class="toctext">环境设置</span></a></li>
<li class='toclevel-2'><a href="#.E5.88.9D.E5.A7.8B.E5.8C.96.EF.BC.9ACVS.E7.89.88.E6.9C.AC.E5.BA.93.E7.9A.84.E5.88.9D.E5.A7.8B.E5.8C.96.E3.80.82"><span class="tocnumber">1.2</span> <span class="toctext">初始化：CVS版本库的初始化。</span></a></li>
<li class='toclevel-2'><a href="#.E4.B8.80.E4.B8.AA.E9.A1.B9.E7.9B.AE.E7.9A.84.E9.A6.96.E6.AC.A1.E5.AF.BC.E5.85.A5"><span class="tocnumber">1.3</span> <span class="toctext">一个项目的首次导入</span></a></li>
<li class='toclevel-2'><a href="#.E9.A1.B9.E7.9B.AE.E5.AF.BC.E5.87.BA"><span class="tocnumber">1.4</span> <span class="toctext">项目导出</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="#CVS.E7.9A.84.E7.94.A8.E6.88.B7.E6.9D.83.E9.99.90.E7.AE.A1.E7.90.86"><span class="tocnumber">2</span> <span class="toctext">CVS的用户权限管理</span></a></li>
<li class='toclevel-1'><a href="#CVS.E7.9A.84.E6.97.A5.E5.B8.B8.E4.BD.BF.E7.94.A8"><span class="tocnumber">3</span> <span class="toctext">CVS的日常使用</span></a>
<ul>
<li class='toclevel-2'><a href="#.E5.B0.86.E6.96.87.E4.BB.B6.E5.90.8C.E6.AD.A5.E5.88.B0.E6.9C.80.E6.96.B0.E7.9A.84.E7.89.88.E6.9C.AC"><span class="tocnumber">3.1</span> <span class="toctext">将文件同步到最新的版本</span></a></li>
<li class='toclevel-2'><a href="#.E7.A1.AE.E8.AE.A4.E4.BF.AE.E6.94.B9.E5.86.99.E5.85.A5.E5.88.B0CVS.E5.BA.93.E9.87.8C"><span class="tocnumber">3.2</span> <span class="toctext">确认修改写入到CVS库里</span></a></li>
<li class='toclevel-2'><a href="#.E6.B7.BB.E5.8A.A0.E6.96.87.E4.BB.B6"><span class="tocnumber">3.3</span> <span class="toctext">添加文件</span></a></li>
<li class='toclevel-2'><a href="#.E5.88.A0.E9.99.A4.E6.96.87.E4.BB.B6"><span class="tocnumber">3.4</span> <span class="toctext">删除文件</span></a></li>
<li class='toclevel-2'><a href="#.E6.B7.BB.E5.8A.A0.E7.9B.AE.E5.BD.95"><span class="tocnumber">3.5</span> <span class="toctext">添加目录</span></a></li>
<li class='toclevel-2'><a href="#.E6.9F.A5.E7.9C.8B.E4.BF.AE.E6.94.B9.E5.8E.86.E5.8F.B2"><span class="tocnumber">3.6</span> <span class="toctext">查看修改历史</span></a></li>
<li class='toclevel-2'><a href="#.E6.9F.A5.E7.9C.8B.E5.BD.93.E5.89.8D.E6.96.87.E4.BB.B6.E4.B8.8D.E5.90.8C.E7.89.88.E6.9C.AC.E7.9A.84.E5.8C.BA.E5.88.AB"><span class="tocnumber">3.7</span> <span class="toctext">查看当前文件不同版本的区别</span></a></li>
<li class='toclevel-2'><a href="#.E6.9F.A5.E7.9C.8B.E5.BD.93.E5.89.8D.E6.96.87.E4.BB.B6.EF.BC.88.E5.8F.AF.E8.83.BD.E5.B7.B2.E7.BB.8F.E4.BF.AE.E6.94.B9.E4.BA.86.EF.BC.89.E5.92.8C.E5.BA.93.E4.B8.AD.E7.9B.B8.E5.BA.94.E6.96.87.E4.BB.B6.E7.9A.84.E5.8C.BA.E5.88.AB"><span class="tocnumber">3.8</span> <span class="toctext">查看当前文件（可能已经修改了）和库中相应文件的区别</span></a></li>
<li class='toclevel-2'><a href="#.E6.AD.A3.E7.A1.AE.E7.9A.84.E9.80.9A.E8.BF.87CVS.E6.81.A2.E5.A4.8D.E6.97.A7.E7.89.88.E6.9C.AC.E7.9A.84.E6.96.B9.E6.B3.95"><span class="tocnumber">3.9</span> <span class="toctext">正确的通过CVS恢复旧版本的方法</span></a></li>
<li class='toclevel-2'><a href="#.E7.A7.BB.E5.8A.A8.E6.96.87.E4.BB.B6.2F.E6.96.87.E4.BB.B6.E9.87.8D.E5.91.BD.E5.90.8D"><span class="tocnumber">3.10</span> <span class="toctext">移动文件/文件重命名</span></a></li>
<li class='toclevel-2'><a href="#.E5.88.A0.E9.99.A4.2F.E7.A7.BB.E5.8A.A8.E7.9B.AE.E5.BD.95"><span class="tocnumber">3.11</span> <span class="toctext">删除/移动目录</span></a></li>
<li class='toclevel-2'><a href="#.E9.A1.B9.E7.9B.AE.E5.8F.91.E5.B8.83.E5.AF.BC.E5.87.BA.E4.B8.8D.E5.B8.A6CVS.E7.9B.AE.E5.BD.95.E7.9A.84.E6.BA.90.E6.96.87.E4.BB.B6"><span class="tocnumber">3.12</span> <span class="toctext">项目发布导出不带CVS目录的源文件</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="#CVS.E7.9A.84.E8.BF.9C.E7.A8.8B.E8.AE.A4.E8.AF.81.E9.80.9A.E8.BF.87SSH.E8.BF.9C.E7.A8.8B.E8.AE.BF.E9.97.AECVS"><span class="tocnumber">4</span> <span class="toctext">CVS的远程认证通过SSH远程访问CVS</span></a></li>
<li class='toclevel-1'><a href="#WinCVS"><span class="tocnumber">5</span> <span class="toctext">WinCVS</span></a></li>
<li class='toclevel-1'><a href="#.E7.9B.B8.E5.85.B3.E8.B5.84.E6.BA.90"><span class="tocnumber">6</span> <span class="toctext">相关资源</span></a></li>
</ul>
</td></tr></table>
<p><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "显示"; var tocHideText = "隐藏"; showTocToggle(); } </script>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name="CVS.E7.8E.AF.E5.A2.83.E5.88.9D.E5.A7.8B.E5.8C.96"></a><h1>CVS环境初始化</h1>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E7.8E.AF.E5.A2.83.E8.AE.BE.E7.BD.AE"></a><h2>环境设置</h2>
<p>指定CVS库的路径CVSROOT
</p><p>tcsh:
setenv CVSROOT /path/to/cvsroot
</p><p>bash:
CVSROOT=/path/to/cvsroot&nbsp;; export CVSROOT
</p><p>后面还提到远程CVS服务器的设置：
CVSROOT=:ext:$USER@test.server.address#port:/path/to/cvsroot CVS_RSH=ssh; export CVSROOT CVS_RSH
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E5.88.9D.E5.A7.8B.E5.8C.96.EF.BC.9ACVS.E7.89.88.E6.9C.AC.E5.BA.93.E7.9A.84.E5.88.9D.E5.A7.8B.E5.8C.96.E3.80.82"></a><h2>初始化：CVS版本库的初始化。</h2>
<p>cvs init
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E4.B8.80.E4.B8.AA.E9.A1.B9.E7.9B.AE.E7.9A.84.E9.A6.96.E6.AC.A1.E5.AF.BC.E5.85.A5"></a><h2>一个项目的首次导入</h2>
<p>cvs import -m "write some comments here" project_name vendor_tag release_tag
</p><p>执行后：会将所有源文件及目录导入到/path/to/cvsroot/project_name目录下
</p><p>vender_tag: 开发商标记
</p><p>release_tag: 版本发布标记
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E9.A1.B9.E7.9B.AE.E5.AF.BC.E5.87.BA"></a><h2>项目导出</h2>
<p>项目导出：将代码从CVS库里导出
</p><p>cvs checkout project_name
</p><p>cvs 将创建project_name目录，并将最新版本的源代码导出到相应目录中。这个checkout和Virvual SourceSafe中的check out不是一个概念，相对于Virvual SourceSafe的check out是cvs update， check in是cvs commit。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name="CVS.E7.9A.84.E7.94.A8.E6.88.B7.E6.9D.83.E9.99.90.E7.AE.A1.E7.90.86"></a><h1>CVS的用户权限管理</h1>
<p>CVS的权限管理分2种策略：
</p>
<ul><li> 基于系统文件权限的系统用户管理：适合多个在Linux上使用系统帐号的开发人员进行开发。
</li><li> 基于CVSROOT/passwd的虚拟用户管理：适合多个在Windows平台上的开发人员将帐号映射成系统帐号使用。
</li></ul>
<p><br />
为什么使用apache/apache用户？首先RedHat8中缺省就有了，而且使用这个用户可以方便通过cvstrac进行WEB管理。
</p><p>chown -R apache.apache /home/cvsroot
chmod 775 /home/cvsroot
</p><p>Linux上通过ssh连接CVS服务器的多个开发人员：通过都属于apache组实现文件的共享读写
</p><p>开发人员有开发服务器上的系统帐号：sysuser1 sysuser2，设置让他们都属于apache组，因为通过cvs新导入的项目都是对组开放的：664权限的，这样无论那个系统用户导入的项目文件，只要文件的组宿主是apache，所有其他同组系统开发用户就都可以读写；基于ssh远程认证的也是一样。
</p><p>apache(system group)
</p><p>/            |           \
</p><p>sysuser1   sysuser2     sysuser3
</p><p>Windows上通过cvspserver连接CVS服务器的多个开发人员：通过在passwd文件种映射成 apache用户实现文件的共享读写
</p><p>他们的帐号通过CVSROOT/passwd和readers writers这几个文件管理；通过cvstrac设置所有虚拟用户都映射到apache用户上即可。
</p><p>apache(system user)
</p><p>/            |            \
</p><p>windev1     windev2      windev3             
</p><p>利用CVS WinCVS/CVSWeb/CVSTrac 构成了一个相对完善的跨平台工作组开发版本控制环境。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name="CVS.E7.9A.84.E6.97.A5.E5.B8.B8.E4.BD.BF.E7.94.A8"></a><h1>CVS的日常使用</h1>
<p>注意：第一次导出以后，就不是通过cvs checkout来同步文件了，而是要进入刚才cvs checkout project_name导出的project_name目录下进行具体文件的版本同步（添加，修改，删除）操作。
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E5.B0.86.E6.96.87.E4.BB.B6.E5.90.8C.E6.AD.A5.E5.88.B0.E6.9C.80.E6.96.B0.E7.9A.84.E7.89.88.E6.9C.AC"></a><h2>将文件同步到最新的版本</h2>
<p>cvs update
</p><p>不制定文件名，cvs将同步所有子目录下的文件，也可以制定某个文件名/目录进行同步
</p><p>cvs update file_name
</p><p>最好每天开始工作前或将自己的工作导入到CVS库里前都要做一次，并养成“先同步 后修改”的习惯，和Virvual SourceSafe不同，CVS里没有文件锁定的概念，所有的冲突是在commit之前解决，如果你修改过程中，有其他人修改并commit到了CVS 库中，CVS会通知你文件冲突，并自动将冲突部分用
</p><p>>>>>>>
</p><p>content on cvs server
</p><p>&lt;&lt;&lt;&lt;&lt;&lt;
</p><p>content in your file
</p><p>&gt;&gt;&gt;&gt;&gt;&gt;
</p><p>标记出来，由你确认冲突内容的取舍。
</p><p>版本冲突一般是在多个人修改一个文件造成的，但这种项目管理上的问题不应该指望由CVS来解决。
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E7.A1.AE.E8.AE.A4.E4.BF.AE.E6.94.B9.E5.86.99.E5.85.A5.E5.88.B0CVS.E5.BA.93.E9.87.8C"></a><h2>确认修改写入到CVS库里</h2>
<p>cvs commit -m "write some comments here" file_name
</p><p><br />
注意：CVS的很多动作都是通过cvs commit进行最后确认并修改的，最好每次只修改一个文件。在确认的前，还需要用户填写修改注释，以帮助其他开发人员了解修改的原因。如果不用写-m "comments"而直接确认`cvs commit file_name` 的话，cvs会自动调用系统缺省的文字编辑器(一般是vi)要求你写入注释。
</p><p>注释的质量很重要：所以不仅必须要写，而且必须写一些比较有意义的内容：以方便其他开发人员能够很好的理解
不好的注释，很难让其他的开发人员快速的理解：比如： -m "bug fixed" 甚至 -m ""
好的注释，甚至可以用中文: -m "在用户注册过程中加入了Email地址校验"
</p><p><br />
修改某个版本注释：每次只确认一个文件到CVS库里是一个很好的习惯，但难免有时候忘了指定文件名，把多个文件以同样注释commit到CVS库里了，以下命令可以允许你修改某个文件某个版本的注释：
</p><p>cvs admin -m 1.3:"write some comments here" file_name
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E6.B7.BB.E5.8A.A0.E6.96.87.E4.BB.B6"></a><h2>添加文件</h2>
<p>创建好新文件后，比如：
</p><p>touch new_file
</p><p>cvs add new_file
</p><p>注意：对于图片，Word文档等非纯文本的项目，需要使用cvs add -kb选项按2进制文件方式导入(k表示扩展选项，b表示binary)，否则有可能出现文件被破坏的情况
</p><p>比如：
</p><p>cvs add -kb new_file.gif
</p><p>cvs add -kb readme.doc
</p><p>如果关键词替换属性在首次导入时设置错了怎么办？
</p><p>cvs admin -kkv new_file.css
</p><p><br />
然后确认修改并注释
</p><p>cvs ci -m "write some comments here"
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E5.88.A0.E9.99.A4.E6.96.87.E4.BB.B6"></a><h2>删除文件</h2>
<p>将某个源文件物理删除后，比如：
</p><p>rm file_name
</p><p>cvs rm file_name
</p><p>然后确认修改并注释
</p><p>cvs ci -m "write some comments here"
</p><p>以上面前2步合并的方法为：
</p><p>cvs rm -f file_name
</p><p>cvs ci -m "why delete file"
</p>
<ul><li>注意：很多cvs命令都有缩写形式：commit=&gt;ci; update=&gt;up; checkout=&gt;co/get; remove=&gt;rm;
</li></ul>
<p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E6.B7.BB.E5.8A.A0.E7.9B.AE.E5.BD.95"></a><h2>添加目录</h2>
<p>cvs add dir_name
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E6.9F.A5.E7.9C.8B.E4.BF.AE.E6.94.B9.E5.8E.86.E5.8F.B2"></a><h2>查看修改历史</h2>
<p>cvs log file_name
</p><p>cvs history file_name
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E6.9F.A5.E7.9C.8B.E5.BD.93.E5.89.8D.E6.96.87.E4.BB.B6.E4.B8.8D.E5.90.8C.E7.89.88.E6.9C.AC.E7.9A.84.E5.8C.BA.E5.88.AB"></a><h2>查看当前文件不同版本的区别</h2>
<p>cvs diff -r1.3 -r1.5 file_name
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E6.9F.A5.E7.9C.8B.E5.BD.93.E5.89.8D.E6.96.87.E4.BB.B6.EF.BC.88.E5.8F.AF.E8.83.BD.E5.B7.B2.E7.BB.8F.E4.BF.AE.E6.94.B9.E4.BA.86.EF.BC.89.E5.92.8C.E5.BA.93.E4.B8.AD.E7.9B.B8.E5.BA.94.E6.96.87.E4.BB.B6.E7.9A.84.E5.8C.BA.E5.88.AB"></a><h2>查看当前文件（可能已经修改了）和库中相应文件的区别</h2>
<p>cvs diff file_name
</p><p>cvs的web界面提供了更方便的定位文件修改和比较版本区别的方法，具体安装设置请看后面的cvsweb使用
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E6.AD.A3.E7.A1.AE.E7.9A.84.E9.80.9A.E8.BF.87CVS.E6.81.A2.E5.A4.8D.E6.97.A7.E7.89.88.E6.9C.AC.E7.9A.84.E6.96.B9.E6.B3.95"></a><h2>正确的通过CVS恢复旧版本的方法</h2>
<p>如果用cvs update -r1.2 file.name
</p><p>这个命令是给file.name加一个STICK TAG： "1.2" ，虽然你的本意只是想将它恢复到1.2版本
</p><p>正确的恢复版本的方法是：cvs update -p -r1.2 file_name &gt;file_name
</p><p>如果不小心已经加成STICK TAG的话：用cvs update -A 解决
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E7.A7.BB.E5.8A.A8.E6.96.87.E4.BB.B6.2F.E6.96.87.E4.BB.B6.E9.87.8D.E5.91.BD.E5.90.8D"></a><h2>移动文件/文件重命名</h2>
<p>cvs里没有cvs move或cvs rename，因为这两个操作是可以由先cvs remove old_file_name，然后cvs add new_file_name实现的。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E5.88.A0.E9.99.A4.2F.E7.A7.BB.E5.8A.A8.E7.9B.AE.E5.BD.95"></a><h2>删除/移动目录</h2>
<p>最方便的方法是让管理员直接移动，删除CVSROOT里相应目录（因为CVS一个项目下的子目录都是独立的，移动到$CVSROOT目录下都可以作为新的独立项目：好比一颗树，其实砍下任意一枝都能独立存活），对目录进行了修改后，要求其开发人员重新导出项目cvs checkout project_name 或者用cvs update -dP同步。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E9.A1.B9.E7.9B.AE.E5.8F.91.E5.B8.83.E5.AF.BC.E5.87.BA.E4.B8.8D.E5.B8.A6CVS.E7.9B.AE.E5.BD.95.E7.9A.84.E6.BA.90.E6.96.87.E4.BB.B6"></a><h2>项目发布导出不带CVS目录的源文件</h2>
<p>做开发的时候你可能注意到了，每个开发目录下，CVS都创建了一个CVS/目录。里面有文件用于记录当前目录和CVS库之间的对应信息。但项目发布的时候你一般不希望把文件目录还带着含有CVS信息的CVS目录吧，这个一次性的导出过程使用cvs export命令，不过export只能针对一个TAG或者日期导出，比如：
</p><p>cvs export -r release1 project_name
</p><p>cvs export -D 20021023 project_name
</p><p>cvs export -D now project_name
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name="CVS.E7.9A.84.E8.BF.9C.E7.A8.8B.E8.AE.A4.E8.AF.81.E9.80.9A.E8.BF.87SSH.E8.BF.9C.E7.A8.8B.E8.AE.BF.E9.97.AECVS"></a><h1>CVS的远程认证通过SSH远程访问CVS</h1>
<p>使用cvs本身基于pserver的远程认证很麻烦,需要定义服务器和用户组，用户名，设置密码等，
</p><p>常见的登陆格式如下：
</p><p>cvs -d&nbsp;:pserver:cvs_user_name@cvs.server.address:/path/to/cvsroot login
</p><p>例子：
</p><p>cvs -d&nbsp;:pserver:cvs@samba.org:/cvsroot login
</p><p><br />
不是很安全，因此一般是作为匿名只读CVS访问的方式。从安全考虑，通过系统本地帐号认证并通过SSH传输是比较好的办法，通过在客户机的 /etc/profile里设置一下内容：
</p><p>CVSROOT=:ext:$USER@cvs.server.address#port:/path/to/cvsroot CVS_RSH=ssh; export CVSROOT CVS_RSH
</p><p>所有客户机所有本地用户都可以映射到CVS服务器相应同名帐号了。
</p><p><br />
比如:
</p><p>CVS服务器是192.168.0.3，上面CVSROOT路径是/home/cvsroot，另外一台开发客户机是192.168.0.4，如果 tom在2台机器上都有同名的帐号，那么从192.168.0.4上设置了：
</p><p>export CVSROOT=:ext:tom@192.168.0.3:/home/cvsroot
</p><p>export CVS_RSH=ssh
</p><p>tom就可以直接在192.168.0.4上对192.168.0.3的cvsroot进行访问了（如果有权限的话）
</p><p>cvs checkout project_name
</p><p>cd project_name
</p><p>cvs update
</p><p>...
</p><p>cvs commit
</p><p><br />
如果CVS所在服务器的SSH端口不在缺省的22，或者和客户端与CVS服务器端SSH缺省端口不一致，有时候设置了：
</p>
<dl><dd>ext:$USER@test.server.address#port:/path/to/cvsroot
</dd></dl>
<p><br />
仍然不行，比如有以下错误信息：
</p><p>ssh: test.server.address#port: Name or service not known
</p><p>cvs [checkout aborted]: end of file from server (consult above messages if any)
</p><p><br />
解决的方法是做一个脚本指定端口转向（不能使用alias，会出找不到文件错误）：
</p><p>创建一个/usr/bin/ssh_cvs文件，假设远程服务器的SSH端口是非缺省端口：34567
</p>
<ol><li>!/bin/sh
</li></ol>
<p>/usr/bin/ssh -p 34567 "$@"
</p><p>然后：chmod +x /usr/bin/ssh_cvs
</p><p>并CVS_RSH=ssh_cvs; export CVS_RSH
</p><p><br />
注意：port是指相应服务器SSH的端口，不是指cvs专用的pserver的端口
</p><p>若要checkout出branch，利用以下命令
</p><p>cvs checkout -r branchname projectname
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name="WinCVS"></a><h1>WinCVS</h1>
<p>下载：
</p><p>cvs Windows客户端：目前稳定版本为1.2
</p><p><a href="http://cvsgui.sourceforge.net" class='external free' title="http://cvsgui.sourceforge.net" rel="nofollow">http://cvsgui.sourceforge.net</a>
</p><p>ssh Windows客户端
</p><p><a href="http://www.networksimplicity.com/openssh/" class='external free' title="http://www.networksimplicity.com/openssh/" rel="nofollow">http://www.networksimplicity.com/openssh/</a>
</p><p><br />
安装好以上2个软件以后：
</p><p>WinCVS客户端的admin==&gt;preference设置
</p><p>1 在general选单里
</p><p>设置CVSROOT： username@192.168.0.123:/home/cvsroot
</p><p>设置Authorization: 选择SSH server
</p><p><br />
2 Port选单里
钩上：check for alternate rsh name
</p><p>并设置ssh.exe的路径，缺省是装在 C:\Program Files\NetworkSimplicity\ssh\ssh.exe
</p><p><br />
然后就可以使用WinCVS进行cvs操作了，所有操作都会跳出命令行窗口要求你输入服务器端的认证密码。
</p><p><br />
当然，如果你觉得这样很烦的话，还有一个办法就是生成一个没有密码的公钥/私钥对，并设置CVS使用基于公钥/私钥的SSH认证（在general 选单里）。
</p><p><br />
可以选择的diff工具：examdiff
</p><p>下载：
</p><p><a href="http://www.prestosoft.com/examdiff/examdiff.htm" class='external free' title="http://www.prestosoft.com/examdiff/examdiff.htm" rel="nofollow">http://www.prestosoft.com/examdiff/examdiff.htm</a>
</p><p>还是在WinCVS菜单admin==&gt;preference的WinCVS选单里
</p><p>选上：Externel diff program
</p><p>并设置diff工具的路径，比如：C:\Program Files\ed16i\ExamDiff.exe
</p><p>在对文件进行版本diff时，第一次需要将窗口右下角的use externel diff选上。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../c/v/s/Cvs.html" title="Cvs">编辑</a>]</div><a name=".E7.9B.B8.E5.85.B3.E8.B5.84.E6.BA.90"></a><h1>相关资源</h1>
<p>CVS HOME：
</p><p><a href="http://www.cvshome.org" class='external free' title="http://www.cvshome.org" rel="nofollow">http://www.cvshome.org</a>
</p><p><br />
CVS FAQ：
</p><p><a href="http://www.loria.fr/~molli/cvs-index.html" class='external free' title="http://www.loria.fr/~molli/cvs-index.html" rel="nofollow">http://www.loria.fr/~molli/cvs-index.html</a>
</p><p><br />
相关网站:
</p><p><a href="http://directory.google.com/Top/Computers/Software/Configuration_Management/Tools/Concurrent_Versions_System/" class='external free' title="http://directory.google.com/Top/Computers/Software/Configuration Management/Tools/Concurrent Versions System/" rel="nofollow">http://directory.google.com/Top/Computers/Software/Configuration_Management/Tools/Concurrent_Versions_System/</a>
</p><p><br />
CVS--并行版本系统
</p><p><a href="http://www.soforge.com/cvsdoc/zh_CN/book1.html" class='external free' title="http://www.soforge.com/cvsdoc/zh CN/book1.html" rel="nofollow">http://www.soforge.com/cvsdoc/zh_CN/book1.html</a>
</p><p><br />
CVS 免费书:
</p><p><a href="http://cvsbook.red-bean.com/" class='external free' title="http://cvsbook.red-bean.com/" rel="nofollow">http://cvsbook.red-bean.com/</a>
</p><p><br />
CVS命令的速查卡片 refcards.com/refcards/cvs/
</p><p><br />
WinCVS:
</p><p><a href="http://cvsgui.sourceforge.net/" class='external free' title="http://cvsgui.sourceforge.net/" rel="nofollow">http://cvsgui.sourceforge.net/</a>
</p><p><br />
CVSTrac: A Web-Based Bug And Patch-Set Tracking System For CVS
</p><p><a href="http://www.cvstrac.org" class='external free' title="http://www.cvstrac.org" rel="nofollow">http://www.cvstrac.org</a>
</p><p><br />
StatCVS：基于CVS的代码统计工具：按代码量，按开发者的统计表等
</p><p><a href="http://sourceforge.net/projects/statcvs" class='external free' title="http://sourceforge.net/projects/statcvs" rel="nofollow">http://sourceforge.net/projects/statcvs</a>
</p><p>如何在WEB开发中规划CVS上：在Google上查 "cvs web development"
<a href="http://ccm.redhat.com/bboard-archive/cvs_for_web_development/index.html" class='external free' title="http://ccm.redhat.com/bboard-archive/cvs for web development/index.html" rel="nofollow">http://ccm.redhat.com/bboard-archive/cvs_for_web_development/index.html</a>
</p><p><br />
一些集成了CVS的IDE环境：
</p><p>Eclipse
</p><p>Magic C++
</p>
<div class="printfooter">
<p>取自"<a href="http://dns.cs.hit.edu.cn../../../c/v/s/Cvs.html">http://dns.cs.hit.edu.cn../../../c/v/s/Cvs.html</a>"</p>

<p>本页面已经被浏览1,200次。 This page was last modified 08:37 2008年1月3日 by <a href="../../../s/u/p/User%7ESuperpippo.html" title="User:Superpippo">黄巍</a>. Based on work by <a href="../../../c/o/w/User%7ECowoo.html" title="User:Cowoo">陈伟</a>. </p>
</div>

</div><br style="clear:both" />

<div id='footer'><table border="0" cellspacing="0"><tr><td width='152' rowspan='1'>&nbsp;</td><td class='bottom' align='left' valign='top'><strong><a href="../../../c/v/s/Cvs.html" title="Cvs">编辑本页</a></strong> |
<a href="../../../c/v/s/Talk%7ECvs.html" class="new" title="Talk:Cvs">讨论本页</a> |
<a href="../../../c/v/s/Cvs.html" title="Cvs">较早版本</a> |
<a href="../../../w/h/a/Special%7EWhatlinkshere.html" title="Special:Whatlinkshere">链入页面</a> |
<a href="../../../r/e/c/Special%7ERecentchangeslinked.html" title="Special:Recentchangeslinked">链出更改</a>
<br /><br />

<br /><a href="../../../index.html" title="首页">首页</a> | <a href="../../../w/i/k/Wikipedia%7E%E5%85%B3%E4%BA%8E.html" title="Wikipedia:关于">关于Wikipedia</a> | <a href="../../../r/e/c/Special%7ERecentchanges.html" title="Special:Recentchanges">最近更改</a> | <form name="search" class="inline" method="post" action="../../../s/e/a/Special%7ESearch.html">
<input type="text" name="search" size="19" value="" />
<input type="submit" name="go" value="进入" />&nbsp;<input type="submit" name="fulltext" value="搜索" />
</form><br /><span id="pagestats">本页面已经被浏览1,200次。 This page was last modified 08:37 2008年1月3日 by <a href="../../../s/u/p/User%7ESuperpippo.html" title="User:Superpippo">黄巍</a>. Based on work by <a href="../../../c/o/w/User%7ECowoo.html" title="User:Cowoo">陈伟</a>. </span></td></tr></table>
</div>
</div>

<div id='quickbar'>
<a href='../../../index.html'><img src='../../../../skins/common/images/wiki.jpg' alt='[首页]' /></a>
<hr class='sep' /><a href="../../../index.html">首页</a>
<br /><a href="../../../c/o/m/WIKI-HIT_IBM_CLUB%7ECommunity_Portal_9150.html">社区</a>
<br /><a href="../../../c/u/r/Current_events.html">新闻动态</a>
<br /><a href="../../../r/e/c/Special%7ERecentchanges.html">最近更改</a>
<br /><a href="../../../r/a/n/Special%7ERandom.html">随机页面</a>
<br /><a href="../../../w/i/k/Wikipedia%7E%E5%B8%AE%E5%8A%A9.html">帮助</a>
<br /><a href="../../../s/i/t/WIKI-HIT_IBM_CLUB%7ESite_support.html">Donations</a>
<br />
<hr class='sep' /><strong><a href="../../../c/v/s/Cvs.html" title="Cvs">编辑本页</a></strong>
<br /><a href="../../../c/v/s/Talk%7ECvs.html" class="new" title="Talk:Cvs">讨论本页</a>
<br /><a href="../../../c/v/s/Cvs.html" title="Cvs">较早版本</a>
<br /><a href="../../../w/h/a/Special%7EWhatlinkshere.html" title="Special:Whatlinkshere">链入页面</a>
<br /><a href="../../../r/e/c/Special%7ERecentchangeslinked.html" title="Special:Recentchangeslinked">链出更改</a>
<br /><hr class='sep' /><a href="../../../s/p/e/Special%7ESpecialpages.html" title="Special:Specialpages">特殊页面</a>
<br /><a href="../../../w/i/k/Wikipedia%7E%E9%94%99%E8%AF%AF%E6%8A%A5%E5%91%8A.html" title="Wikipedia:错误报告">错误报告</a>
<br /></div>
<!-- Served by dns.cs.hit.edu.cn in 1351392614.18 secs. -->
</body></html>