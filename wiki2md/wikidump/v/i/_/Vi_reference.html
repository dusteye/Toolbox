<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn" >
<head>
<title>Vi reference - WIKI-HIT IBM CLUB</title>
<meta name="KEYWORDS" content="首页,ALP,Address,Android,Android Newbie Guide,Android Project Development,Android Research Field,Android Third Party Lib And Tool,BoardGame,CSAPP" />
<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel='stylesheet' type='text/css' media='print' href='../../../../skins/common/wikiprintable.css' />
<script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
<style type='text/css'>
/*/*/ /*<![CDATA[*/
@import "../../../../skins/common/wikistandard.css";
@import "../../../s/t/a/MediaWiki%7EStandard.css.html";
a.new, #quickbar a.new { color: #CC2200; }
.editsection { display: none; }
#quickbar { position: absolute; top: 4px; left: 4px; border-right: 1px solid gray; }
#article { margin-left: 152px; margin-right: 4px; }

/*]]>*/ /* */
</style>
</head>

<body bgcolor='#FFFFFF' onload=''>

<div id='content'>
<div id='topbar'>
<table border='0' cellspacing='0' width='98%'>
<tr>
<td width='152' rowspan='1'>&nbsp;</td><td class="top" align='left' valign='top'>
<a href="../../../index.html" title="首页">首页</a> |
<a href="../../../r/e/c/Special%7ERecentchanges.html" title="Special:Recentchanges">最近更改</a> |
<a href="../../../v/i/_/Vi_reference.html" title="Vi reference">编辑本页</a> |
<a href="../../../v/i/_/Vi_reference.html" title="Vi reference">较早版本</a><p class='subtitle'><a href="../../../v/i/_/Vi_reference.html">可打印版</a> | <a href="../../../g/e/n/WIKI-HIT_IBM_CLUB%7EGeneral_disclaimer.html" title="WIKI-HIT IBM CLUB:General disclaimer">Disclaimers</a></p>
</td>
<td class="top" valign='top' align='right' nowrap='nowrap'>Not logged in
<br /><a href="../../../u/s/e/Special%7EUserlogin.html" title="Special:Userlogin">登录</a> | <a href="../../../w/i/k/Wikipedia%7E%E5%B8%AE%E5%8A%A9.html" title="Wikipedia:帮助">帮助</a>
<br /><form name="search" class="inline" method="post" action="../../../s/e/a/Special%7ESearch.html">
<input type="text" name="search" size="19" value="" />
<input type="submit" name="go" value="进入" />&nbsp;<input type="submit" name="fulltext" value="搜索" />
</form></td></tr>
</table>
</div>

<div id='article'>
<h1 class="pagetitle">Vi reference</h1><p class='subtitle'>Wikipedia，自由的百科全书</p>
<table id='toc' class='toc'><tr><td><div id='toctitle'><h2>目录</h2></div>
<ul>
<li class='toclevel-1'><a href="#VI__Quick__Refrence"><span class="tocnumber">1</span> <span class="toctext">VI__Quick__Refrence</span></a></li>
<li class='toclevel-1'><a href="#vi.E5.85.B6.E4.BB.96.E6.8A.80.E5.B7.A7"><span class="tocnumber">2</span> <span class="toctext">vi其他技巧</span></a>
<ul>
<li class='toclevel-2'><a href="#.E6.89.93.E5.BC.80VI.E7.9A.84.E8.AF.AD.E6.B3.95.E9.AB.98.E4.BA.AE"><span class="tocnumber">2.1</span> <span class="toctext">打开VI的语法高亮</span></a></li>
<li class='toclevel-2'><a href="#.E8.A1.A5.E5.85.85.E4.B8.80.E4.B8.AA.EF.BC.8C.E6.98.BE.E7.A4.BA.E8.A1.8C.E5.8F.B7.EF.BC.9Aset_nu"><span class="tocnumber">2.2</span> <span class="toctext">补充一个，显示行号：set nu</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<p><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "显示"; var tocHideText = "隐藏"; showTocToggle(); } </script>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../v/i/_/Vi_reference.html" title="Vi reference">编辑</a>]</div><a name="VI__Quick__Refrence"></a><h2>VI__Quick__Refrence</h2>
<p>让我随便来举一个简单的例子：把文本中的五行（段）从中间移到尾部。
</p><p>如果用微软的Word、写字板、记事本等等“用户友好”的Windows文本编辑器，最快的办法是： 
</p>
<pre>- Ctrl-Shift-Down 
- Ctrl-Shift-Down 
- Ctrl-Shift-Down 
- Ctrl-Shift-Down 
- Ctrl-Shift-Down 
- Ctrl-X 
- Ctrl-End 
- Ctrl-V
</pre>
<p>(这里假设你使用键盘操作。不然，你需要好几步鼠标托拽操作和可靠的自动滚屏。)
</p><p>在vi里只需如此： 
</p>
<pre>- d5d 
- Shift-g 
- p
</pre>
<p><br />
Entering and Leaving vi
</p>
<pre>% vi name               edit name at top
% vi +n name            ... at line n
% vi + name             ... at end
% vi -r                 list saved files
% vi -r name            recover file name
% vi name ...           edit first; rest via&nbsp;:n
% vi -t tag             start at tag
% vi +/pat              name search for pat
% view name             read only mode
ZZ                      exit from vi, saving changes
CTRL-Z                  stop vi for later resumption
</pre>
<p>The Display
</p>
<pre>Last line               Error messages, echoing input to&nbsp;:/? and&nbsp;!,
                        feedback about i/o and large changes
@lines                  On screen only, not in file.
-lines                  Lines past end of file.
CTRL-x                  Control character, DEL is delete.
tabs                    Expand to space, cursor at last.
</pre>
<p>Vi Modes
</p>
<pre>Commands                Normal and initial state. Others return
                        here. ESC (escape) cancels partial command.
Insert                  Entered by a i A I o O c C s S R. Arbitrary
                        text then terminates with ESC character, or
                        abnormally with interrupt.
Last line               Reading input for:/? or&nbsp;!; terminate with
                        ESC or CR to execute, interrupt to cancel.
</pre>
<p><br />
Counts Before vi Commands
</p>
<pre>line/column number      z G |
scroll amount           CTRL-D CTRL-U
replicate insert        a i A I
repeat effect           most rest
</pre>
<p><br /> 
Simple Commands
</p>
<pre>dw                      delete a word
de                      ... leaving punctuation
dd                      delete a line
3dd                     ... 3 lines
itextESC                insert text abc
cwnewESC                change word to new
easESC                  pluralize word
xp                      transpose characters
</pre>
<p><br />
Interrupting, Canceling
</p>
<pre>ESC                     end insert or incomplete cmd
CTRL-C                  interrupt (or DEL)
CTRL-L                  refresh screen if scrambled
</pre>
<p><br />
File Manipulation
</p>
<pre>:w                      write back changes
:wq                     write and quit
:q                      quit
:q!                     quit, discard changes
:e name                 edit file name
;e!                     reedit, discard changes
:e + name               edit, starting at end
:e +n                   edit starting at line n
:e #                    edit alternate file
CTRL-^                  synonym for&nbsp;:e #
:r name                 read file name
:w name                 write file name
:w! name                overwrite file name
:sh                     run shell, then return
:!cmd                   run cmd, then return
:n                      edit next file in arglist
:n args                 specify new arglist
:f                      show current file and line
CTRL-G                  synonym for&nbsp;:f
:ta tag                 to tag file entry tag
CTRL-]                 &nbsp;:ta, following word is tag
</pre>
<p><br />
Positioning within File
</p>
<pre>CTRL-F                  forward screenfull
CTRL-B                  backward screenfull
CTRL-D                  scroll down half screen
CTRL-D                  scroll up half screen
nG                      goto the n'th line (end if n drops)
/pat                    next line matching pat
?pat                    previous line matching pat
n                       repeat last / or&nbsp;?
N                       reverse last / or&nbsp;?
/pat/+n                 n'th line after pat
?pat?-n                 n'th line before pat
]]                      next section/function
[[                      previous section/function
%                       find matching ( ) { or }
</pre>
<p><br />
Adjusting the Screen
</p>
<pre>CTRL-L                  clear and redraw
CTRL-R                  retype, eliminate @ lines
zCR                     redraw, current at window top
z-                      ...at bottom
z.                      ...at center
/pat/z-                 pat line at bottom
zn.                     use n line window
CTRL-E                  scroll window down 1 line
CTRL-Y                  scroll window up 1 line
</pre>
<p><br />
Marking and Returning
</p>
<pre>``                      previous context
<i>                      ... at first non-white in line</i>
mx                      mark position with letter x
`x                      to mark x
'x                      ... at first non-white in line
</pre>
<p><br />
Line Positioning
</p>
<pre>H                       home window line
L                       last window line
M                       middle window
+                       next line, at first non-white
-                       previous line, at first non-white
CR                      return, same as +
j                       next line, same column
k                       previous line, same column 
</pre>
<p><br />
Character Positioning
</p>
<pre>^                       first non-blank
0                       beginning of line
$                       end of line
h                       forward
l                       backwards
CTRL-H                  same as l
space                   same as h
fx                      find x forward
Fx                      f backward
tx                      upto x forward
Tx                      back upto x
;                       repeat last f F t or T
,                       inverse of&nbsp;;
|                       to specified column
%                       find matching ( { ) or } 
</pre>
<p><br />
Word, Sentences, paragraphs
</p>
<pre>w                       word forward
b                       back word
e                       end of word
)                       to next sentence
}                       to next paragraph
(                       back sentence
{                       back paragraph
W                       blank delimited word
B                       back W
E                       to end of W 
</pre>
<p><br />
Commands for LISP
</p>
<pre>)                       Forward s-expression
}                       ...but don't stop at atoms
(                       Back s-expression
{                       ... but don't stop at atoms 
</pre>
<p><br />
Corrections During Insert
</p>
<pre>CTRL-H                  erase last character
CTRL-W                  erase last word
erase                   your erase, same as CTRL-H
kill                    your kill, erase input this line
\                       escapes CTRL-H, your erase and kill
ESC                     ends insertion, back to command
CTRL-C                  interrupt, terminates insert
CTRL-D                  backtab over autoindent
CTRL-^D                 kill autoindent, save for next
0/CTRL-D                ... but at margin next also
CTRL-V                  quote non-printing character 
</pre>
<p><br />
Insert and Replace
</p>
<pre>a                       append after cursor
i                       insert before
A                       append at end of line
I                       insert before first non-blank
o                       open line below
O                       open line above
rx                      replace single character with x
R                       replace characters
nrx                     replace n characters with x
</pre>
<p><br />
Operators (double to affect lines)
</p>
<pre>d                       delete
c                       change
&lt;                       left shift
&gt;                       right shift
!                       filter through command
=                       indent for LISP
y                       yank lines to buffer
</pre>
<p><br />
Miscellaneous Operations
</p>
<pre>C                       change rest of line
D                       delete rest of line
s                       substitute characters
S                       substitute lines
J                       joint lines
x                       delete characters
X                       ... before cursor
Y                       yank lines
</pre>
<p><br />
Yank and Put
</p>
<pre>p                       put back lines
P                       put before
"xp                     put from buffer x
"xy                     yank to buffer x
"xd                     delete into buffer x
</pre>
<p><br />
Undo, Redo, Retrieve
</p>
<pre>u                       undo last change
U                       restore current line
.                       repeat last change
"dp                     retrieve d'th last delete
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../v/i/_/Vi_reference.html" title="Vi reference">编辑</a>]</div><a name="vi.E5.85.B6.E4.BB.96.E6.8A.80.E5.B7.A7"></a><h2>vi其他技巧</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../v/i/_/Vi_reference.html" title="Vi reference">编辑</a>]</div><a name=".E6.89.93.E5.BC.80VI.E7.9A.84.E8.AF.AD.E6.B3.95.E9.AB.98.E4.BA.AE"></a><h3>打开VI的语法高亮</h3>
<p>第一种方法：
</p><p>直接在vi中打开，但是只在当前使用vi时有效
</p><p>命令模式下：
</p>
<pre>  &nbsp;:syntax on
</pre>
<p>第二种方法：
</p><p>修改vi的配置文件，以后使用vi均有效
</p>
<pre>    sudo vi /etc/vim/vimrc
</pre>
<p>在文件中找到如下内容，大约在三十几行左右：
</p>
<pre>" Vim5 and later versions support syntax highlighting. Uncommenting the next
" line enables syntax highlighting by default.
"syntax on
</pre>
<pre>" If using a dark background within the editing area and syntax highlighting
" turn on this option as well
"set background=dark
</pre>
<p>(按i进入编辑模式）去掉syntax on前面的 " ，去掉set background=dark前面的 "
</p><p>然后命令模式下（按ESC）：
</p>
<pre>:wq（ 保存退出）
</pre>
<p>OK
</p><p>以后会对文件的扩展名敏感， 试试写一个.c的文件，会有不一样的感觉哦
</p><p>/etc/vim/vimrc 中有关于vi的其它配置，有兴趣可以研究交流一下
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../v/i/_/Vi_reference.html" title="Vi reference">编辑</a>]</div><a name=".E8.A1.A5.E5.85.85.E4.B8.80.E4.B8.AA.EF.BC.8C.E6.98.BE.E7.A4.BA.E8.A1.8C.E5.8F.B7.EF.BC.9Aset_nu"></a><h3>补充一个，显示行号：set nu</h3>

<div class="printfooter">
<p>取自"<a href="http://dns.cs.hit.edu.cn../../../v/i/_/Vi_reference.html">http://dns.cs.hit.edu.cn../../../v/i/_/Vi_reference.html</a>"</p>

<p>本页面已经被浏览15次。 This page was last modified 12:32 2006年6月1日 by <a href="../../../c/o/w/User%7ECowoo.html" title="User:Cowoo">陈伟</a>.  </p>
</div>

</div><br style="clear:both" />

<div id='footer'><table border="0" cellspacing="0"><tr><td width='152' rowspan='1'>&nbsp;</td><td class='bottom' align='left' valign='top'><strong><a href="../../../v/i/_/Vi_reference.html" title="Vi reference">编辑本页</a></strong> |
<a href="../../../v/i/_/Talk%7EVi_reference.html" class="new" title="Talk:Vi reference">讨论本页</a> |
<a href="../../../v/i/_/Vi_reference.html" title="Vi reference">较早版本</a> |
<a href="../../../w/h/a/Special%7EWhatlinkshere.html" title="Special:Whatlinkshere">链入页面</a> |
<a href="../../../r/e/c/Special%7ERecentchangeslinked.html" title="Special:Recentchangeslinked">链出更改</a>
<br /><br />

<br /><a href="../../../index.html" title="首页">首页</a> | <a href="../../../w/i/k/Wikipedia%7E%E5%85%B3%E4%BA%8E.html" title="Wikipedia:关于">关于Wikipedia</a> | <a href="../../../r/e/c/Special%7ERecentchanges.html" title="Special:Recentchanges">最近更改</a> | <form name="search" class="inline" method="post" action="../../../s/e/a/Special%7ESearch.html">
<input type="text" name="search" size="19" value="" />
<input type="submit" name="go" value="进入" />&nbsp;<input type="submit" name="fulltext" value="搜索" />
</form><br /><span id="pagestats">本页面已经被浏览15次。 This page was last modified 12:32 2006年6月1日 by <a href="../../../c/o/w/User%7ECowoo.html" title="User:Cowoo">陈伟</a>.  </span></td></tr></table>
</div>
</div>

<div id='quickbar'>
<a href='../../../index.html'><img src='../../../../skins/common/images/wiki.jpg' alt='[首页]' /></a>
<hr class='sep' /><a href="../../../index.html">首页</a>
<br /><a href="../../../c/o/m/WIKI-HIT_IBM_CLUB%7ECommunity_Portal_9150.html">社区</a>
<br /><a href="../../../c/u/r/Current_events.html">新闻动态</a>
<br /><a href="../../../r/e/c/Special%7ERecentchanges.html">最近更改</a>
<br /><a href="../../../r/a/n/Special%7ERandom.html">随机页面</a>
<br /><a href="../../../w/i/k/Wikipedia%7E%E5%B8%AE%E5%8A%A9.html">帮助</a>
<br /><a href="../../../s/i/t/WIKI-HIT_IBM_CLUB%7ESite_support.html">Donations</a>
<br />
<hr class='sep' /><strong><a href="../../../v/i/_/Vi_reference.html" title="Vi reference">编辑本页</a></strong>
<br /><a href="../../../v/i/_/Talk%7EVi_reference.html" class="new" title="Talk:Vi reference">讨论本页</a>
<br /><a href="../../../v/i/_/Vi_reference.html" title="Vi reference">较早版本</a>
<br /><a href="../../../w/h/a/Special%7EWhatlinkshere.html" title="Special:Whatlinkshere">链入页面</a>
<br /><a href="../../../r/e/c/Special%7ERecentchangeslinked.html" title="Special:Recentchangeslinked">链出更改</a>
<br /><hr class='sep' /><a href="../../../s/p/e/Special%7ESpecialpages.html" title="Special:Specialpages">特殊页面</a>
<br /><a href="../../../w/i/k/Wikipedia%7E%E9%94%99%E8%AF%AF%E6%8A%A5%E5%91%8A.html" title="Wikipedia:错误报告">错误报告</a>
<br /></div>
<!-- Served by dns.cs.hit.edu.cn in 1351392699.64 secs. -->
</body></html>