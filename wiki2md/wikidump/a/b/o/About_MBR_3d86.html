<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn" >
<head>
<title>About MBR - WIKI-HIT IBM CLUB</title>
<meta name="KEYWORDS" content="首页,ALP,Address,Android,Android Newbie Guide,Android Project Development,Android Research Field,Android Third Party Lib And Tool,BoardGame,CSAPP" />
<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
<meta name="robots" content="index,follow" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel='stylesheet' type='text/css' media='print' href='../../../../skins/common/wikiprintable.css' />
<script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
<style type='text/css'>
/*/*/ /*<![CDATA[*/
@import "../../../../skins/common/wikistandard.css";
@import "../../../s/t/a/MediaWiki%7EStandard.css.html";
a.new, #quickbar a.new { color: #CC2200; }
.editsection { display: none; }
#quickbar { position: absolute; top: 4px; left: 4px; border-right: 1px solid gray; }
#article { margin-left: 152px; margin-right: 4px; }

/*]]>*/ /* */
</style>
</head>

<body bgcolor='#FFFFFF' onload=''>

<div id='content'>
<div id='topbar'>
<table border='0' cellspacing='0' width='98%'>
<tr>
<td width='152' rowspan='1'>&nbsp;</td><td class="top" align='left' valign='top'>
<a href="../../../index.html" title="首页">首页</a> |
<a href="../../../r/e/c/Special%7ERecentchanges.html" title="Special:Recentchanges">最近更改</a> |
<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑本页</a> |
<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">较早版本</a><p class='subtitle'><a href="../../../a/b/o/About_MBR_3d86.html">可打印版</a> | <a href="../../../g/e/n/WIKI-HIT_IBM_CLUB%7EGeneral_disclaimer.html" title="WIKI-HIT IBM CLUB:General disclaimer">Disclaimers</a></p>
</td>
<td class="top" valign='top' align='right' nowrap='nowrap'>Not logged in
<br /><a href="../../../u/s/e/Special%7EUserlogin.html" title="Special:Userlogin">登录</a> | <a href="../../../w/i/k/Wikipedia%7E%E5%B8%AE%E5%8A%A9.html" title="Wikipedia:帮助">帮助</a>
<br /><form name="search" class="inline" method="post" action="../../../s/e/a/Special%7ESearch.html">
<input type="text" name="search" size="19" value="" />
<input type="submit" name="go" value="进入" />&nbsp;<input type="submit" name="fulltext" value="搜索" />
</form></td></tr>
</table>
</div>

<div id='article'>
<h1 class="pagetitle">About MBR</h1><p class='subtitle'>Wikipedia，自由的百科全书</p>
<dl><dt>基于win98的MBR分析
</dt></dl>
<table id='toc' class='toc'><tr><td><div id='toctitle'><h2>目录</h2></div>
<ul>
<li class='toclevel-1'><a href="#MBR.E7.AE.80.E4.BB.8B"><span class="tocnumber">1</span> <span class="toctext">MBR简介</span></a>
<ul>
<li class='toclevel-2'><a href="#MBR.E7.9A.84.E4.BD.9C.E7.94.A8"><span class="tocnumber">1.1</span> <span class="toctext">MBR的作用</span></a></li>
<li class='toclevel-2'><a href="#.E5.BC.95.E5.AF.BC.E6.89.87.E5.8C.BA.EF.BC.88Boot_Sector.EF.BC.89"><span class="tocnumber">1.2</span> <span class="toctext">引导扇区（Boot Sector）</span></a></li>
<li class='toclevel-2'><a href="#win98MBR.E7.9A.84.E7.BB.93.E6.9E.84.E5.9B.BE"><span class="tocnumber">1.3</span> <span class="toctext">win98MBR的结构图</span></a></li>
<li class='toclevel-2'><a href="#win98MBR.E7.9A.84.E6.B5.81.E7.A8.8B.E5.9B.BE"><span class="tocnumber">1.4</span> <span class="toctext">win98MBR的流程图</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="#MBR.E7.9A.84.E5.88.86.E6.9E.90"><span class="tocnumber">2</span> <span class="toctext">MBR的分析</span></a>
<ul>
<li class='toclevel-2'><a href="#win98MBR.E7.9A.84.E5.88.86.E6.9E.90"><span class="tocnumber">2.1</span> <span class="toctext">win98MBR的分析</span></a>
<ul>
<li class='toclevel-3'><a href="#MBR.E4.BB.A3.E7.A0.81.E8.8E.B7.E5.BE.97.E6.96.B9.E5.BC.8F.E7.9A.84.E8.AF.B4.E6.98.8E"><span class="tocnumber">2.1.1</span> <span class="toctext">MBR代码获得方式的说明</span></a></li>
<li class='toclevel-3'><a href="#win98MBR.E5.8F.8A.E6.B3.A8.E9.87.8A"><span class="tocnumber">2.1.2</span> <span class="toctext">win98MBR及注释</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="#.E6.9C.89.E5.BE.85.E8.A7.A3.E5.86.B3.E7.9A.84.E9.97.AE.E9.A2.98"><span class="tocnumber">2.2</span> <span class="toctext">有待解决的问题</span></a></li>
<li class='toclevel-2'><a href="#.E5.AF.B9winxpMBR.E7.9A.84.E7.AE.80.E8.A6.81.E5.88.86.E6.9E.90"><span class="tocnumber">2.3</span> <span class="toctext">对winxpMBR的简要分析</span></a>
<ul>
<li class='toclevel-3'><a href="#MBR.E7.9A.84.E7.BB.93.E6.9E.84.EF.BC.88.E6.8C.89.E5.9C.A8.E6.89.87.E5.8C.BA.E4.B8.AD.E7.9A.84.E5.88.86.E5.B8.83.EF.BC.89"><span class="tocnumber">2.3.1</span> <span class="toctext">MBR的结构（按在扇区中的分布）</span></a></li>
<li class='toclevel-3'><a href="#MBR.E7.9A.84.E7.89.B9.E7.82.B9"><span class="tocnumber">2.3.2</span> <span class="toctext">MBR的特点</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="#GRUB.E7.AE.80.E4.BB.8B"><span class="tocnumber">2.4</span> <span class="toctext">GRUB简介</span></a>
<ul>
<li class='toclevel-3'><a href="#GRUB.E7.9A.84.E7.89.B9.E7.82.B9"><span class="tocnumber">2.4.1</span> <span class="toctext">GRUB的特点</span></a></li>
</ul>
</li>
</ul>
</li>
<li class='toclevel-1'><a href="#.E6.80.BB.E7.BB.93"><span class="tocnumber">3</span> <span class="toctext">总结</span></a></li>
<li class='toclevel-1'><a href="#.E5.8F.82.E8.80.83.E6.96.87.E7.8C.AE"><span class="tocnumber">4</span> <span class="toctext">参考文献</span></a></li>
<li class='toclevel-1'><a href="#.E9.99.84.E5.BD.95"><span class="tocnumber">5</span> <span class="toctext">附录</span></a></li>
</ul>
</td></tr></table>
<p><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "显示"; var tocHideText = "隐藏"; showTocToggle(); } </script>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="MBR.E7.AE.80.E4.BB.8B"></a><h1>MBR简介</h1>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="MBR.E7.9A.84.E4.BD.9C.E7.94.A8"></a><h2>MBR的作用</h2>
<p>MBR是主引导记录（Main Boot Record）的英文缩写，位于硬盘主引导扇区的前446个字节（0x0～0x1BD），作用是从活动分区中装载并且运行系统引导程序。
</p><p>在下面将对win98的MBR进行详细的分析和介绍，win98的MBR所做的工作如下：
</p><p>(1)把7c00这一部分的485B(01E5H)移到内存较低部分，并跳转过去执行（移动是为了给以后要读的代码留地方）
</p><p>(2)检查分区表，找到可引导分区，并验证其他分区是否合法，如果有一个分区的第一字节不为0且不小于80h，报错：分区表无效
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name=".E5.BC.95.E5.AF.BC.E6.89.87.E5.8C.BA.EF.BC.88Boot_Sector.EF.BC.89"></a><h2>引导扇区（Boot Sector）</h2>
<p>这里要纠正的是一个概念问题，过去在分析MBR时，我总是将硬盘的前512个字节统称为MBR，从MBR的概念上来说，这种说法是错误的。硬盘的前512个字节（即第一个扇区）叫做引导扇区，引导扇区的前446个字节才是我们通常所说的MBR。引导扇区的结构如下：
</p><p>(1)MBR（Master Boot Record）：偏移  00H~1BDH，占446个字节，但实际可能并未用满。
</p><p>(2)DPT（Disk Partition Table）硬盘分区表：偏移1BEH~1FDH，占64个字节，每个分区项占16个字节,最多可有4个分区项:1BEH~1CDH为分区项1，1CEH~1DDH为分区项2，1DBH~1EDH为分区项3，1EFH~1FDH为分区项4。各分区项的结构见附录一。
</p><p>(3)Boot Record ID:占两个字节的神奇的数字55H和AAH,在BIOS自检结束后，它调用INT19读取MBR并检查这两个字节，如果是55AA，则把这512字节读到内存中的0000：7c00位置并将CS：IP设为0000：7c00，如果不是的话，就显示”OS not found“。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="win98MBR.E7.9A.84.E7.BB.93.E6.9E.84.E5.9B.BE"></a><h2>win98MBR的结构图</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="win98MBR.E7.9A.84.E6.B5.81.E7.A8.8B.E5.9B.BE"></a><h2>win98MBR的流程图</h2>
<p><a href="../../../l/i/u/Image%7ELiucheng1.JPG_abc3.html" class="image" title="Image:Liucheng1.JPG"><img src="../../../../upload/1/16/Liucheng1.JPG" alt="Image:Liucheng1.JPG" width="824" height="683" longdesc="../../../l/i/u/Image%7ELiucheng1.JPG_abc3.html" /></a>
判断分区类型，并采取相应措施：
<a href="../../../u/p/l/Special%7EUpload.html" class="new" title="Image:Liucheng2.JPG">Image:Liucheng2.JPG</a>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="MBR.E7.9A.84.E5.88.86.E6.9E.90"></a><h1>MBR的分析</h1>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="win98MBR.E7.9A.84.E5.88.86.E6.9E.90"></a><h2>win98MBR的分析</h2>
<p>阅读程序和注释时，请参考程序在内存中的分布，见附录二。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="MBR.E4.BB.A3.E7.A0.81.E8.8E.B7.E5.BE.97.E6.96.B9.E5.BC.8F.E7.9A.84.E8.AF.B4.E6.98.8E"></a><h3>MBR代码获得方式的说明</h3>
<p>在win98和linux下，可以通过用汇编程序直接读取主引导扇区获得，但在winxp下就比较麻烦。我的方法是，使用一张linux的livecd启动
（我用的是lfslivecd，因为功能比较全，且支持网络），win下有个叫winhex的也可察看，启动后，输入如下命令：
</p>
<pre>dd if=/dev/hda1 of=mbr.bin bs=512 count=1
</pre>
<p>hda1随个人机器而定，如果你的硬盘是SCSI的，就是/dev/sda1
</p><p>得到mbr.bin后，使用你喜欢的二进制编辑工具打开，通过字符找到出错提示信息（在windows的MBR中一般要以00作为结束）和分区表及55AA，将它们剔除后，反汇编得到的结果就基本上是MBR的代码了，至于为什么说是“基本上”，后面将会说明。
</p><p>MBR编程有点类似于COM程序，为了节省空间（只有512B)，没有数据段，如果有常量的话就直接在程序中用，也不管什么代码风格的问题了
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="win98MBR.E5.8F.8A.E6.B3.A8.E9.87.8A"></a><h3>win98MBR及注释</h3>
<dl><dt> 7C00～7C1A：初始化各个段寄存器、堆栈指针，最后将主引导记录在内存中搬家，腾出其所占内
</dt><dt> 存空间以供装入分区引导记录。
</dt></dl>
<dl><dt>初始化步骤，为各段赋值
</dt></dl>
<p>0000:7C00 33C0       XOR    AX,AX        &nbsp;;AX寄存器清0
</p><p>0000:7C02 8ED0       MOV    SS,AX        &nbsp;;SS=0
</p><p>0000:7C04 BC007C     MOV    SP,7C00      &nbsp;;装填栈指针——SS:SP=0000:7C00
</p><p>0000:7C07 FB         STI                 &nbsp;;开中断(装填栈指针时为避免硬件中断引起栈混乱应关中断)这一段其实我不太理解，网上是这么说的，但究竟什么时候关中断的呢？是不是INT19H的作用？
</p><p>0000:7C08 50         PUSH   AX           &nbsp;;
</p><p>0000:7C09 07         POP    ES           &nbsp;;装填附加数据段寄存器ES=0
</p><p>0000:7C0A 50         PUSH   AX           &nbsp;;
</p><p>0000:7C0B 1F         POP    DS           &nbsp;;装填数据段寄存器DS=0
</p>
<dl><dt>将7C1B以后的代码搬到061B，这里为何要取061B，这是由BIOS和OS共同决定的。MBR要调用BIOS的中断向量，以后OS被加载后还要从BIOS数据区中获取自检信息，所以要注意不能把有用的数据区抹掉。
</dt></dl>
<p>0000:7C0C FC         CLD                 &nbsp;;规定其后的串操作为正向串操作
</p><p>0000:7C0D BE1B7C     MOV    SI,7C1B      &nbsp;;源指针
</p><p>0000:7C10 BF1B06     MOV    DI,061B      &nbsp;;目的指针
</p><p>0000:7C13 50         PUSH   AX           &nbsp;;
</p><p>0000:7C14 57         PUSH   DI           &nbsp;;现在栈中保存的是061B和0000，一会在跳转中用到。
</p><p>0000:7C15 B9E501     MOV    CX,01E5      &nbsp;;
</p><p>0000:7C18 F3         REPZ                &nbsp;;
</p><p>0000:7C19 A4         MOVSB               &nbsp;;0000:7C1B起始的CX字节传送至0000:061B起始的区域
</p><p>0000:7C1A CB         RETF                &nbsp;;跳转到0000:061B(这是一种技巧跳转)
</p>
<dl><dt> 为直观起见，下面的地址按实际运行时的地址给出。
</dt></dl>
<p><br />
</p>
<dl><dt> 061B～062B：对分区表进行初步检验，一旦检测到某分区表项状态字节大于等于80h，就进行下一步。当
</dt><dt>然，在此之前如果检测到某项分区表的状态字节小于80h，就转错误处理。如果四个分区项的状态字节
</dt><dt>都为零，主引导记录就会调用BIOS-ROM的INT 18h，显示"PRESS A KEY TO REBOOT"信息等待你的操作。
</dt></dl>
<p>0000:061B BEBE07     MOV    SI,07BE      &nbsp;;SI指向第一个分区表项
</p><p>0000:061E B104       MOV    CL,04        &nbsp;;分区表共四个表项，至多检查四次。由于上面的串操作，CH此时应为0
</p><p>0000:0620 382C       CMP    [SI],CH      &nbsp;;
</p><p>0000:0622 7C09       JL     062D         &nbsp;;大于等于80h，说明该分区是可引导分区，JL比较有符号数，D7位为1则小于0，而该数为1XXXXXXXB，即大于80H；
</p><p>0000:0624 7515       JNZ    063B         &nbsp;;不为0，则[SI]一定小于80h，转错误处理了！
</p><p>0000:0626 83C610     ADD    SI,+10       &nbsp;;为零则检查下一表项，SI后移十六字节
</p><p>0000:0629 E2F5       LOOP   0620         &nbsp;;检查下一表项
</p><p>0000:062B CD18       INT    18           &nbsp;;四表项的状态字节都为0，则系统只好调用INT 18h了!
</p><p><br />
</p>
<dl><dt>062D～0639：发现活动分区后，检查剩余的分区表项——状态字节若大于0小于80H则显示错误信息“分区表无效”然
</dt><dt> 后死循环！用Utral Edit可以看到这五个中文字。用我引用的那篇文章中的话说!!!"拜托，微软搞错没有，怎么用中文提示信息？真TM傻得可爱！"
</dt></dl>
<p>0000:062D 8B14       MOV    DX,[SI]      &nbsp;;为读分区引导记录做准备：磁头号→DH，驱动器号→DL
</p><p>0000:062F 8BEE       MOV    BP,SI        &nbsp;;SI→BP，保存可引导分区表项的指针
</p><p>0000:0631 83C610     ADD    SI,+10       &nbsp;;检查剩余的分区表
</p><p>0000:0634 49         DEC    CX           &nbsp;;
</p><p>0000:0635 7416       JZ     064D         &nbsp;;CX=0则分区表检查顺利通过，转继续
</p><p>0000:0637 382C       CMP    [SI],CH      &nbsp;;
</p><p>0000:0639 74F6       JZ     0631         &nbsp;;为零，是合法表项，再查下一表项，否则，执行下一步的错误处理。
</p><p><br />
</p>
<dl><dt>063B～064B：执行错误处理，所有种类的错误信息都是用这段代码（从第三句开始的部分）。以0作为字;符串的结束标志。
</dt><dt>个人觉得这段代码非常好，主要是比较通用而且短小，符合MBR的要求。
</dt></dl>
<p>0000:063B BE1007     MOV    SI,0710      &nbsp;;错误信息字符串偏移+1→SI
</p><p>0000:063E 4E         DEC    SI           &nbsp;;SI-1→SI
</p><p>0000:063F AC         LODSB               &nbsp;;SI+1→SI
</p><p>0000:0640 3C00       CMP    AL,00        &nbsp;;
</p><p>0000:0642 74FA       JZ     063E         &nbsp;;AL=0则表明一条错误信息显示完毕,系统陷入一个死循环
</p><p>0000:0644 BB0700     MOV    BX,0007      &nbsp;;字符方式显示
</p><p>0000:0647 B40E       MOV    AH,0E        &nbsp;;
</p><p>0000:0649 CD10       INT    10           &nbsp;;以写电传方式显示信息(只显示一个字符)
</p><p>0000:064B EBF2       JMP    063F         &nbsp;;显示下一个字符，直到遇到提示信息结束为止
</p><p><br />
</p>
<dl><dt>064D～0662：判断可引导分区的分区类型，然后转相应处理程序。
</dt></dl>
<p>0000:064D 894625     MOV    [BP+25],AX   &nbsp;;BP=指向第一个可引导分区表项的指针，这时AX=0000h
</p>
<pre>                                          使用长度最短的指令将[BP+25]起始的两个单元清零
                                          这两个单元将被用来存放中间变量
</pre>
<p>0000:0650 96         XCHG   SI,AX        &nbsp;;此时SI清零的最佳指令选择(仅1字节)，将服务于0000:06B8
</p><p>0000:0651 8A4604     MOV    AL,[BP+04]   &nbsp;;取分区类型
</p><p>0000:0654 B406       MOV    AH,06        &nbsp;;为扩展INT 13h无法使用做好更改分区类型的准备，见0673
</p><p>0000:0656 3C0E       CMP    AL,0E        &nbsp;;0Eh：需要用扩展INT 13h访问的FAT16主DOS分区
</p><p>0000:0658 7411       JZ     066B         &nbsp;;0Eh类型的分区转066Bh
</p><p>0000:065A B40B       MOV    AH,0B         
</p><p>0000:065C 3C0C       CMP    AL,0C        &nbsp;;0Ch：需要用扩展INT 13h访问的FAT32分区
</p><p>0000:065E 7405       JZ     0665         &nbsp;;0Ch类型的分区转0665h先行预处理
</p><p>0000:0660 3AC4       CMP    AL,AH        &nbsp;;0Bh：用传统INT 13h就可以访问的FAT32分区
</p><p>0000:0662 752B       JNZ    068F         &nbsp;;其他类型的分区转068Fh
</p>
<dl><dt>
</dt></dl>
<dl><dt>0664～06A1：根据分区类型和分区表表项内容进行读取分区引导记录前的处理工作
</dt></dl>
<p>0000:0664 40         INC    AX           &nbsp;;0Bh类型的分区由此开始处理，此条指令用意是清ZF位，见669
</p><p>0000:0665 C6462506   MOV    BYTE PTR [BP+25],06&nbsp;;0Ch类型的分区由此开始处理，为什么取值06
</p><p>0000:0669 7524       JNZ    068F         &nbsp;;若为0Bh类型，由于664那句的作用，ZF清零，跳转，0Ch由于直接跳到665，则不转；这段很巧妙，应该记下来
</p><p><br />
</p>
<dl><dt>066B～068C这段代码仅当分区类型是0Ch、0Eh才有获得执行的机会
</dt></dl>
<p>0000:066B BBAA55     MOV    BX,55AA      &nbsp;;0Eh类型的分区由此开始处理
</p><p>0000:066E 50         PUSH   AX           &nbsp;;
</p><p>0000:066F B441       MOV    AH,41        &nbsp;;扩展INT 13h功能，检测BIOS是否已经支持扩展INT13h
</p><p>0000:0671 CD13       INT    13           &nbsp;;入口参数：BX=55AAh,DL=驱动器号,AH=41h
</p><p>0000:0673 58         POP    AX           &nbsp;;对0E类型恢复AX为060Eh，对0C类型，恢复到0B0C
</p><p>0000:0674 7216       JB     068C         &nbsp;;如果不支持，则CF置1，跳转到
</p><p>0000:0676 81FB55AA   CMP    BX,AA55      &nbsp;;如果CF置0，但BX返回值不是AA55，同样说明不支持扩展INT13，但我实在不明白怎么会有这种情况发生。这种情况被称作扩展INT13不可用，不知道是什么区别。INT13应该在得到不支持的AH值后就返回CF＝1。这种情况，应该是说明INT13的确被扩展了，但没有实现功能或者说是没有支持win98要求的功能。
</p><p>0000:067A 7510       JNZ    068C         &nbsp;;不可用也转
</p><p>0000:067C F6C101     TEST   CL,01        &nbsp;;CX 的 0 位表示是否支持第一个子集, 1位表示是否支持第二个子集，现在检测0位，为以后的AH＝42。43。44。47。48作准备
</p><p>0000:067F 740B       JZ     068C         &nbsp;;不支持还转
</p><p><br />
</p>
<dl><dt> 因为扩展INT13h方式读盘与标准INT13h方式读盘有很大差别，所以0000</dt><dd>0686处指令修改其后的代码以保证按
</dd><dt> 照扩展读方式读分区引导扇区时能正确跳转到相应的处理程序中。
</dt></dl>
<p>在此处，由于之前对0E已经做过处理，若扩展INT13被支持，则分区类型不变，仍为0E，对0C也是如此
而如果INT13不被支持，0E被改为06，而0C则被改成0B
</p><p>0000:0681 8AE0       MOV    AH,AL        &nbsp;;分区类型→AH
</p><p>0000:0683 885624     MOV    [BP+24],DL   &nbsp;;保存驱动器号→[BP+24]
</p><p>0000:0686 C706A106EB1E MOV    WORD PTR [06A1],1EEB&nbsp;;修改0000:06A1处代码为"JMP 06C1"
</p><p>0000:068C 886604     MOV    [BP+04],AH   &nbsp;;注意：如果扩展INT13h不能使用则A改分区类型为06，但如果
</p>
<pre>                                       &nbsp;;扩展INT13h能使用，则仍保持原分区类型不变
</pre>
<dl><dt>0B类型和其它类型分区由此开始处理。而由于665句的作用，0B型分区有了标志06，以此和其他类型分区分开。
</dt><dt>从现在开始将VBR中数据载入内存
</dt></dl>
<p>0000:068F BF0A00     MOV    DI,000A      &nbsp;;此条指令初始化计数器
</p><p>0000:0692 B80102     MOV    AX,0201      &nbsp;;AH：读操作，AL：读取1个扇区的内容
</p><p>0000:0695 8BDC       MOV    BX,SP        &nbsp;;SP=7C00→BX，指定分区引导记录装入内存的位置偏移
</p><p>0000:0697 33C9       XOR    CX,CX        &nbsp;;CX清零
</p><p>0000:0699 83FF05     CMP    DI,+05       &nbsp;;这里的5参考06B3
</p><p>0000:069C 7F03       JG     06A1         &nbsp;;大于则转去读由分区表指定的分区引导扇区
</p><p>0000:069E 8B4E25     MOV    CX,[BP+25]   &nbsp;;小于则证明所读分区表指定的引导扇区无合法的引导记录，
</p>
<pre>                                       &nbsp;;改读第七扇区
</pre>
<dl><dt> 这就是扩展INT13好使的情况下所改的那一段代码，对0E和0C类型，进行②：
</dt></dl>
<p>①0000:06A1 034E02     ADD    CX,[BP+02]   &nbsp;;获取分区引导扇区所在的柱面号和物理扇区号
</p><p>②0000:06A1 EB1E       JMP    06C1         &nbsp;;如果分区类型是0Ch、0Eh而且扩展读能使用则执行该指令
</p>
<dl><dt>
</dt><dt> 06A4～06B6：将可引导分区的分区引导记录装入内存指定区域
</dt><dt> 入口参数：AH=功能号，02为读盘操作；AL=一次读取的扇区数
</dt><dt>          ES</dt><dd>BX=读入内存的起始地址
</dd><dt>          CH=10位柱面号的低8位；CL：高两位是10位柱面号的高两位，低6位是物理扇区号
</dt><dt>          DH=磁头号；DL=驱动器号，最高位(即位7)为0是软盘，为1是硬盘
</dt></dl>
<p>0000:06A4 CD13       INT    13           &nbsp;;读分区引导记录到0000:7C00起始的区域
</p>
<dl><dt>
</dt></dl>
<p>0000:06A6 7229       JB     06D1         &nbsp;;不成功转，对于INT13H，返回值CF＝1时说明读取失败，与有符号数相减后小于0一样，所以用JB
</p><p>0000:06A8 BE2D07     MOV    SI,072D      &nbsp;;SI指向MissingOS，参考06B8
</p><p>0000:06AB 813EFE7D55AA CMP    WORD PTR [7DFE],AA55&nbsp;;分区引导记录合法吗？
</p><p>0000:06B1 745A       JZ     070D         &nbsp;;合法则准备运行VBR的程序（这是主引导记录唯一的正常出口）
</p><p>0000:06B3 83EF05     SUB    DI,+05       &nbsp;;不合法则为换读其他扇区做准备，此时上面的判断中DI>5为假，扇区号加6即该分区的第7个扇区（［BP＋25］中存的数），又回到了那个问题，为什么是6呢？GRUB中，stage2被放到了6扇区，这几个扇区有什么特殊？
</p><p>0000:06B6 7FDA       JG     0692         &nbsp;;只有一次换读扇区的机会！
</p><p><br />
</p>
<dl><dt>06B8～06BF：错误预处理
</dt></dl>
<p>0000:06B8 85F6       TEST   SI,SI        &nbsp;;测试SI值是否为0，其意义在于确定该显示哪条信息
</p><p>0000:06BA 7583       JNZ    063F         &nbsp;;不为0则转错误处理，显示“Missing operating system”
</p><p>0000:06BC BE1A07     MOV    SI,071A      &nbsp;;错误信息字符串偏移→SI
</p><p>0000:06BF EB8A       JMP    064B         &nbsp;;转错误处理，显示“加载操作系统时出错”
</p>
<dl><dt>
</dt></dl>
<dl><dt>06C1～06CF：整理扩展读所需入口参数，然后调用扩展读子程序
</dt><dt> 这段代码只有在以扩展读方式读取分区引导记录时才有机会获得执行
</dt></dl>
<p>0000:06C1 98         CBW                 &nbsp;;转换字节AL为字AX，执行后，AX中是一次要读的扇区数
</p><p>0000:06C2 91         XCHG   CX,AX        &nbsp;;AX→CX，CX→AX，执行后，CX中是一次要读的扇区数
</p><p>0000:06C3 52         PUSH   DX           &nbsp;;
</p><p>0000:06C4 99         CWD                 &nbsp;;将字AX转换为双字→DX,AX
</p><p>0000:06C5 034608     ADD    AX,[BP+08]   &nbsp;;
</p><p>0000:06C8 13560A     ADC    DX,[BP+0A]   &nbsp;;执行后，DX:AX=LBA绝对物理扇区号
</p><p>0000:06CB E81200     CALL   06E0         &nbsp;;调用扩展读子程序
</p><p>0000:06CE 5A         POP    DX           &nbsp;;
</p><p>0000:06CF EBD5       JMP    06A6         &nbsp;;
</p>
<dl><dt>
</dt><dt>06D1～06D8分区引导记录装入失败时的处理，共试5次，5次都失败则报错。
</dt></dl>
<p>0000:06D1 4F         DEC    DI           &nbsp;;计数器减1
</p><p>0000:06D2 74E4       JZ     06B8         &nbsp;;五次读盘均未成功则转错误处理(注意这时SI=0)
</p><p>0000:06D4 33C0       XOR    AX,AX        &nbsp;;置功能号
</p><p>0000:06D6 CD13       INT    13           &nbsp;;复位磁盘系统
</p><p>0000:06D8 EBB8       JMP    0692         &nbsp;;再读
</p><p><br />
</p>
<dl><dt>06E0～070C：使用扩展INT 13h功能读取分区引导记录的子程序
</dt></dl>
<p>0000:06E0 56         PUSH   SI           &nbsp;;保存SI
</p><p>0000:06E1 33F6       XOR    SI,SI        &nbsp;;清零
</p>
<dl><dt>16字节磁盘地址包的开头
</dt></dl>
<p>0000:06E3 56         PUSH   SI           &nbsp;;
</p><p>0000:06E4 56         PUSH   SI           &nbsp;;
</p><p>0000:06E5 52         PUSH   DX           &nbsp;;
</p><p>0000:06E6 50         PUSH   AX           &nbsp;;以上四条指令压栈的是128位扇区LBA号码
</p><p>0000:06E7 06         PUSH   ES           &nbsp;;压栈内存目标缓冲区首址段址
</p><p>0000:06E8 53         PUSH   BX           &nbsp;;压栈内存目标缓冲区首址偏移
</p><p>0000:06E9 51         PUSH   CX           &nbsp;;压栈所读扇区数
</p><p>0000:06EA BE1000     MOV    SI,0010      &nbsp;;注意SI的高8位对应着磁盘地址包的保留字节，必须为0
</p><p>0000:06ED 56         PUSH   SI           &nbsp;;压栈磁盘地址包包长，执行完本条指令一个包已经构造完毕
</p><p>0000:06EE 8BF4       MOV    SI,SP        &nbsp;;规定磁盘地址包偏移指针，这时SP=7BEA，便于之后扩展读操作的调用
</p><p>0000:06F0 50         PUSH   AX           &nbsp;;保存AX
</p><p>0000:06F1 52         PUSH   DX           &nbsp;;保存DX
</p><p>0000:06F2 B80042     MOV    AX,4200      &nbsp;;置扩展读功能号
</p><p>0000:06F5 8A5624     MOV    DL,[BP+24]   &nbsp;;取驱动器号，参照0000:0683
</p>
<dl><dt> 入口参数：AH=功能号，42为扩展读盘操作；DL=驱动器号
</dt><dt>          DS</dt><dd>：SI=0000：7BEA＝16字节磁盘地址包——第0字节：包长度(固定为10h)；第1字节：保留，必须为0；
</dd><dt>          第2、3字节：所读扇区数；第4～5字节：内存目标缓冲区首址偏移；
</dt><dt>          第6～7字节：内存目标缓冲区首址段址； 第8～15字节：扇区LBA号码
</dt><dt> 出口参数：成功则AH=0；错误则AH=错误代码
</dt><dt>这16个字节的磁盘地址包若是要写入内存则需要很长的机器代码，这里利用压栈完成
</dt></dl>
<p>0000:06F8 CD13       INT    13           &nbsp;;执行扩展读操作
</p><p>0000:06FA 5A         POP    DX           &nbsp;;
</p><p>0000:06FB 58         POP    AX           &nbsp;;
</p><p>0000:06FC 8D6410     LEA    SP,[SI+10]   &nbsp;;7BEA+10h=7BFA→SP，和MOV SP，7BFA一样，且都是三字节，不知为什么要这么用
</p><p>0000:06FF 720A       JB     070B         &nbsp;;扩展读不成功转
</p><p>0000:0701 40         INC    AX           &nbsp;;
</p><p>0000:0702 7501       JNZ    0705         &nbsp;;
</p><p>0000:0704 42         INC    DX           &nbsp;;AX加1溢出时（比如0FFFFh+1）DX才加1
</p><p>0000:0705 80C702     ADD    BH,02        &nbsp;;调整BX，使偏移量增加512字节（刚好一扇区）
</p><p>0000:0708 E2F7       LOOP   0701         &nbsp;;0701～0708一段代码暂未明白其真实意图！
</p><p>根据loop，cx此时为1，扇区LBA加一，此时ES：BX指向读入代码的结尾
</p><p>0000:070A F8         CLC                 &nbsp;;CF清零，为以后检查读入是否成功做准备
</p><p>0000:070B 5E         POP    SI           &nbsp;;
</p><p>0000:070C C3         RET                 &nbsp;;
</p>
<dl><dt>
</dt><dt> 070D：中继跳转
</dt></dl>
<p>0000:070D EB74       JMP    0783         &nbsp;;这是错误信息之前的最后一句命令
</p>
<dl><dt>
</dt></dl>
<dl><dt>0783～0789：控制权移交
</dt></dl>
<p>0000:0783 8BFC       MOV    DI,SP        &nbsp;;
</p><p>0000:0785 1E         PUSH   DS           &nbsp;;
</p><p>0000:0786 57         PUSH   DI           &nbsp;;构造一个跳转地址
</p><p>0000:0787 8BF5       MOV    SI,BP        &nbsp;;
</p><p>0000:0789 CB         RETF                &nbsp;;交控制权给分区引导记录（0000:7C00）
</p><p><br />
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name=".E6.9C.89.E5.BE.85.E8.A7.A3.E5.86.B3.E7.9A.84.E9.97.AE.E9.A2.98"></a><h2>有待解决的问题</h2>
<p>(1)分区表之前四个字节（07B8～07BB）的用处不明，不同机器上该四个字节不同，不知是否与硬盘信息有关。
这四个字节是disk signature，其主要作用可以参考如下的文档
</p><p><a href="https://secure.wikimedia.org/wikipedia/en/wiki/Mbr#MBRs_and_disc_identity" class='external free' title="https://secure.wikimedia.org/wikipedia/en/wiki/Mbr#MBRs and disc identity" rel="nofollow">https://secure.wikimedia.org/wikipedia/en/wiki/Mbr#MBRs_and_disc_identity</a>
<a href="http://www.microsoft.com/technet/prodtechnol/windows2000serv/reskit/prork/prbd_std_ccef.mspx?mfr=true" class='external free' title="http://www.microsoft.com/technet/prodtechnol/windows2000serv/reskit/prork/prbd std ccef.mspx?mfr=true" rel="nofollow">http://www.microsoft.com/technet/prodtechnol/windows2000serv/reskit/prork/prbd_std_ccef.mspx?mfr=true</a>
</p><p>(2)为何对FAT文件系统，VBR中不包含系统引导程序，则到07扇区去读。
</p><p>(3)引导记录被从7c00移到了061b，不抹去中断向量表和BIOS数据区只能确定一个较大的范围，却不足以解释为何偏偏要移到061b，是女友生日假说在起作用，还是有更进一步（注意是更进一步，我相信无论如何这个数字也不过是范围而不是定值）的原因。
</p><p>(4)为何在跳转时MBR都倾向于用RET这种技巧性跳转而不是用JMP，在段内跳转时，这两种方法似乎并没有什么大的不同。
</p><p>(5)0701～0708一段代码究竟有什么用，是给以后的引导程序提供信息吗？
</p><p>(6)……（有待大家提出）
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name=".E5.AF.B9winxpMBR.E7.9A.84.E7.AE.80.E8.A6.81.E5.88.86.E6.9E.90"></a><h2>对winxpMBR的简要分析</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="MBR.E7.9A.84.E7.BB.93.E6.9E.84.EF.BC.88.E6.8C.89.E5.9C.A8.E6.89.87.E5.8C.BA.E4.B8.AD.E7.9A.84.E5.88.86.E5.B8.83.EF.BC.89"></a><h3>MBR的结构（按在扇区中的分布）</h3>
<p>（1）0000～001A：初始化及将代码在内存中移动
</p><p>（2）001B～0038：检查分区表
</p><p>（3）003A～004D：错误信息输出
</p><p>（4）004F～007F：读入硬盘中的引导程序
</p><p>（5）0081～0092：检验读入代码是否为引导程序并做相应处理
</p><p>（6）0094～009A：第二步引导的入口
</p><p>（7）009B～012B：读取硬盘扇区中数据的子程序
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="MBR.E7.9A.84.E7.89.B9.E7.82.B9"></a><h3>MBR的特点</h3>
<p>xp的MBR结构明显比win98的清晰明了，首先由于xp已经抛弃了DOS，分区表的检查过程中不需再对系统标志为0E的分区进行处理。第二，由于使用了pusha和popa指令，在使用扩展INT13时，硬盘数据包入栈后，仅用两个字节的两次popa指令就实现了sp的恢复。此外，在错误处理中，xp的MBR使用字符串指针的方法确定输出何种错误信息。xp的MBR在这里不再列出，我会将xp的MBR的代码即注释放到我旁边的座位上，有兴趣的可以拿去看。
===对GRUB的简要分析===（没有对启动管理器的分析，先写GRUB，不过没分析出什么内容，以后分析uboot后，将这段补上）
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="GRUB.E7.AE.80.E4.BB.8B"></a><h2>GRUB简介</h2>
<p>GRUB可分成stage1，setup和stage2三个部分。其中stage1即MBR，stage1加载活动分区第一扇区上的setup部分，并由setup来引导stage2，stage2可看作是一个微型的操作系统，而且是一个有自己的shell，功能为加载其他OS的操作系统。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name="GRUB.E7.9A.84.E7.89.B9.E7.82.B9"></a><h3>GRUB的特点</h3>
<p>在MBR上，并没看出GRUB有什么过人之处。GRUB可以引导多种不同的操作系统，识别多种文件系统是在stage2中的一个叫做fsys_entry的结构体所起的作用，GRUB所支持的每一种操作系统都对应有一个这样的结构体和结构体中的各个函数。GRUB使用各个结构体中的mount函数挂载磁盘上的文件系统，成功则返回1，说明磁盘上的文件系统正是该mount函数所属的文件系统，不过这个已超出MBR分析的范围了。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name=".E6.80.BB.E7.BB.93"></a><h1>总结</h1>
<p>通过对win98和winxp的MBR的分析，我发现MBR对操作系统的依赖性并不强，而且功能也基本一致，即检测硬盘分区表和加载活动分区的引导程序。而且，对于现代的操作系统来说，多步引导是不可避免的。
但是，在使用98的MBR引导xp时，系统出现了错误，导致xp无法进入。仅从MBR的代码分析，找不到发生错误的原因，该问题有待进一步分析。
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name=".E5.8F.82.E8.80.83.E6.96.87.E7.8C.AE"></a><h1>参考文献</h1>
<ol><li><a href="http://www.sjhf.net/Article/PRODOC/200404/17.html" class='external text' title="http://www.sjhf.net/Article/PRODOC/200404/17.html" rel="nofollow">自己编程实现多引导</a>
</li><li><a href="http://www.sjhf.net/Article/PRODOC/200404/18.html" class='external text' title="http://www.sjhf.net/Article/PRODOC/200404/18.html" rel="nofollow">比较详细的MBR的分析</a>
</li><li><a href="http://www.sjhf.net/Article/PRODOC/200405/46.html" class='external text' title="http://www.sjhf.net/Article/PRODOC/200405/46.html" rel="nofollow">扩展int13h调用详解(修正)</a>
</li><li><a href="http://www.linuxsir.org/bbs/showthread.php?t=170348" class='external text' title="http://www.linuxsir.org/bbs/showthread.php?t=170348" rel="nofollow">grub源代码分析</a>
</li></ol>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑</a>]</div><a name=".E9.99.84.E5.BD.95"></a><h1>附录</h1>
<dl><dt>1.分区项的结构：
</dt></dl>
<p>00H引导标识字节，其值只能为00H或80H，为00H时表示该分区不可引导，为80H时表示该分区可用于引导 。
</p><p>01H分区起始磁头号
</p><p>02H其高2位为分区起始柱面号的高位，底6位为分区起始扇区号
</p><p>03H分区起始柱面号的低位
</p><p>04H分区系统标志，当该值为00H时，表示此分区为不可识别的系统；为04H时该分区为FAT16分区；为05H或0FH该分区为   扩展分区；为0B时该分区为FAT32分区 ；为83H时表示该分区为Linux分区, 为07时该分区为NTFS分区
</p><p>05H分区结束磁头号
</p><p>06H其高2位为分区结束柱面号的高位，底6位为分区结束扇区号
</p><p>07H分区结束柱面号的低位
</p><p>08H~0BH在线性寻址方式下的分区的扇区地址。
</p><p>0CH~0FH以扇区为单位的该分区大小（总扇区数）
</p>
<dl><dt>2.二进制形式的主引导记录：
</dt></dl>
<p>这是移动后的数据分布，如果想知道在MBR中的分布或是BIOS刚读入内存时的分布，将IP减600或加7600就行了
</p><p>0000:0600 33 C0 8E D0 BC 00 7C FB-50 07 50 1F FC BE 1B 7C 3.....|.P.P....|
</p><p>0000:0610 BF 1B 06 50 57 B9 E5 01-F3 A4 CB BE BE 07 B1 04 ...PW...........
</p><p>0000:0620 38 2C 7C 09 75 15 83 C6-10 E2 F5 CD 18 8B 14 8B 8,|.u...........
</p><p>0000:0630 EE 83 C6 10 49 74 16 38-2C 74 F6 BE 10 07 4E AC ....It.8,t....N.
</p><p>0000:0640 3C 00 74 FA BB 07 00 B4-0E CD 10 EB F2 89 46 25 &lt;.t...........F%
</p><p>0000:0650 96 8A 46 04 B4 06 3C 0E-74 11 B4 0B 3C 0C 74 05 ..F...&lt;.t...&lt;.t.
</p><p>0000:0660 3A C4 75 2B 40 C6 46 25-06 75 24 BB AA 55 50 B4&nbsp;:.u+@.F%.u$..UP.
</p><p>0000:0670 41 CD 13 58 72 16 81 FB-55 AA 75 10 F6 C1 01 74 A..Xr...U.u....t
</p><p>0000:0680 0B 8A E0 88 56 24 C7 06-A1 06 EB 1E 88 66 04 BF ....V$.......f..
</p><p>0000:0690 0A 00 B8 01 02 8B DC 33-C9 83 FF 05 7F 03 8B 4E .......3.......N
</p><p>0000:06A0 25 03 4E 02 CD 13 72 29-BE 2D 07 81 3E FE 7D 55 %.N...r).-..&gt;.}U
</p><p>0000:06B0 AA 74 5A 83 EF 05 7F DA-85 F6 75 83 BE 1A 07 EB .tZ.......u.....
</p><p>0000:06C0 8A 98 91 52 99 03 46 08-13 56 0A E8 12 00 5A EB ...R..F..V....Z.
</p><p>0000:06D0 D5 4F 74 E4 33 C0 CD 13-EB B8 00 00 80 49 12 00 .Ot.3........I..
</p><p>0000:06E0 56 33 F6 56 56 52 50 06-53 51 BE 10 00 56 8B F4 V3.VVRP.SQ...V..
</p><p>0000:06F0 50 52 B8 00 42 8A 56 24-CD 13 5A 58 64 10 72 PR..B.V$..ZX.d.r
</p><p>0000:0700 0A 40 75 01 42 80 C7 02-E2 F7 F8 5E C3 EB 74 B7 .@u.B......^..t.
</p><p>0000:0710 D6 C7 F8 B1 ED CE DE D0-A7 00 BC D3 D4 D8 B2 D9 ................
</p><p>0000:0720 D7 F7 CF B5 CD B3 CA B1-B3 F6 B4 ED 00 4D 69 73 .............Mis
</p><p>0000:0730 73 69 6E 67 20 6F 70 65-72 61 74 69 6E 67 20 73 sing operating s
</p><p>0000:0740 79 73 74 65 6D 00 00 00-00 00 00 00 00 00 00 00 ystem...........
</p><p>0000:0750 00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00 ................
</p><p>0000:0760 00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00 ................
</p><p>0000:0770 00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00 ................
</p><p>0000:0780 00 00 00 8B FC 1E 57 8B-F5 CB 00 00 00 00 00 00 ......W.........
</p><p>0000:0790 00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00 ................
</p><p>0000:07A0 00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00 ................
</p><p>0000:07B0 00 00 00 00 00 00 00 00-86 D8 00 00 00 00 80 01 ................
</p><p>0000:07C0 01 00 06 3F 3F FD 3F 00-00 00 41 A0 0F 00 00 00 ...??.?...A.....
</p><p>0000:07D0 01 FE 05 3F FF FE 80 A0-0F 00 C0 4F 2F 00 00 00 ...?.......O/...
</p><p>0000:07E0 00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00 ................
</p><p>0000:07F0 00 00 00 00 00 00 00 00-00 00 00 00 00 00 55 AA ..............U.
</p>
<div class="printfooter">
<p>取自"<a href="http://dns.cs.hit.edu.cn../../../a/b/o/About_MBR_3d86.html">http://dns.cs.hit.edu.cn../../../a/b/o/About_MBR_3d86.html</a>"</p>

<p>本页面已经被浏览77次。 This page was last modified 12:31 2007年12月2日 by <a href="../../../%E5%BC%A0/%E6%99%BA/_/User%7E%E5%BC%A0%E6%99%BA.html" class="new" title="User:张智">张智</a>. Based on work by <a href="../../../w/a/n/User%7EWangyao.html" title="User:Wangyao">王耀</a> 和 <a href="../../../y/u/m/User%7EYumo.html" title="User:Yumo">于墨</a>. </p>
</div>

</div><br style="clear:both" />

<div id='footer'><table border="0" cellspacing="0"><tr><td width='152' rowspan='1'>&nbsp;</td><td class='bottom' align='left' valign='top'><strong><a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑本页</a></strong> |
<a href="../../../a/b/o/Talk%7EAbout_MBR_0a42.html" class="new" title="Talk:About MBR">讨论本页</a> |
<a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">较早版本</a> |
<a href="../../../w/h/a/Special%7EWhatlinkshere.html" title="Special:Whatlinkshere">链入页面</a> |
<a href="../../../r/e/c/Special%7ERecentchangeslinked.html" title="Special:Recentchangeslinked">链出更改</a>
<br /><br />

<br /><a href="../../../index.html" title="首页">首页</a> | <a href="../../../w/i/k/Wikipedia%7E%E5%85%B3%E4%BA%8E.html" title="Wikipedia:关于">关于Wikipedia</a> | <a href="../../../r/e/c/Special%7ERecentchanges.html" title="Special:Recentchanges">最近更改</a> | <form name="search" class="inline" method="post" action="../../../s/e/a/Special%7ESearch.html">
<input type="text" name="search" size="19" value="" />
<input type="submit" name="go" value="进入" />&nbsp;<input type="submit" name="fulltext" value="搜索" />
</form><br /><span id="pagestats">本页面已经被浏览77次。 This page was last modified 12:31 2007年12月2日 by <a href="../../../%E5%BC%A0/%E6%99%BA/_/User%7E%E5%BC%A0%E6%99%BA.html" class="new" title="User:张智">张智</a>. Based on work by <a href="../../../w/a/n/User%7EWangyao.html" title="User:Wangyao">王耀</a> 和 <a href="../../../y/u/m/User%7EYumo.html" title="User:Yumo">于墨</a>. </span></td></tr></table>
</div>
</div>

<div id='quickbar'>
<a href='../../../index.html'><img src='../../../../skins/common/images/wiki.jpg' alt='[首页]' /></a>
<hr class='sep' /><a href="../../../index.html">首页</a>
<br /><a href="../../../c/o/m/WIKI-HIT_IBM_CLUB%7ECommunity_Portal_9150.html">社区</a>
<br /><a href="../../../c/u/r/Current_events.html">新闻动态</a>
<br /><a href="../../../r/e/c/Special%7ERecentchanges.html">最近更改</a>
<br /><a href="../../../r/a/n/Special%7ERandom.html">随机页面</a>
<br /><a href="../../../w/i/k/Wikipedia%7E%E5%B8%AE%E5%8A%A9.html">帮助</a>
<br /><a href="../../../s/i/t/WIKI-HIT_IBM_CLUB%7ESite_support.html">Donations</a>
<br />
<hr class='sep' /><strong><a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">编辑本页</a></strong>
<br /><a href="../../../a/b/o/Talk%7EAbout_MBR_0a42.html" class="new" title="Talk:About MBR">讨论本页</a>
<br /><a href="../../../a/b/o/About_MBR_3d86.html" title="About MBR">较早版本</a>
<br /><a href="../../../w/h/a/Special%7EWhatlinkshere.html" title="Special:Whatlinkshere">链入页面</a>
<br /><a href="../../../r/e/c/Special%7ERecentchangeslinked.html" title="Special:Recentchangeslinked">链出更改</a>
<br /><hr class='sep' /><a href="../../../s/p/e/Special%7ESpecialpages.html" title="Special:Specialpages">特殊页面</a>
<br /><a href="../../../w/i/k/Wikipedia%7E%E9%94%99%E8%AF%AF%E6%8A%A5%E5%91%8A.html" title="Wikipedia:错误报告">错误报告</a>
<br /></div>
<!-- Served by dns.cs.hit.edu.cn in 1351392937.65 secs. -->
</body></html>